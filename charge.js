import { loadStripe } from '@stripe/stripe-js'
import { useState } from 'react'
export default function Charge(){ const [amount,setAmount]=useState(10); async function pay(){ const res = await fetch('/api/payments/create-checkout-session',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({amount, userEmail: localStorage.getItem('user_email')})}); const j = await res.json(); if(j.url) window.location.href = j.url; else alert('ط®ط·ط£') } return (<div className='p-6 max-w-md mx-auto'><h2 className='text-xl mb-3'>ط´ط­ظ† ط§ظ„ط±طµظٹط¯</h2><input type='number' value={amount} onChange={e=>setAmount(e.target.value)} className='w-full p-2 mb-3 bg-slate-800 rounded'/><button onClick={pay} className='button-primary'>ط¯ظپط¹ ط¹ط¨ط± ط§ظ„ط¨ط·ط§ظ‚ط© (Stripe)</button></div>) }
